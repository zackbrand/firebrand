<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <title>Welcome to Firebrand</title> <link rel="shortcut icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlUlEQVR42rXSwQmAMBQD0I7SkbpRV+gcHchzT47Qq0pAY0o/n4IKwUvzLMGQQzjuXE9I17sO6QjPvINC5gFEyh8CRH4BqgLMEqAFIh4wfj0pwsyAjALLAARZAGKMzzW3vY8I3mm6gQIIYYZlG0Cc9X2glOKsb48IoLXG29hlAlmWByJhwQSIVAVkxCnQUdR0RP4NEzoBfBT42XTc3E4AAAAASUVORK5CYII="> <style>body{font-family:Roboto,Arial,sans-serif;background:#ECEFF1 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAGUlEQVR42mI4c+bMfyBgYAQRZ8+e/Q8QYAB1SAzF+qrpogAAAABJRU5ErkJggg==");color:rgba(0,0,0,0.87)}a{color:#039be5}.message{max-width:400px;margin:40px auto;box-shadow:0 1px 3px 0 rgba(0,0,0,0.2),0 1px 1px 0 rgba(0,0,0,0.14),0 2px 1px -1px rgba(0,0,0,0.12);border-radius:2px;background:white;padding:16px 24px}.message h2{font-size:22px;font-weight:500;text-align:center;margin:0 0 16px}.message p{font-weight:300;line-height:150%}.message ul{list-style:none;margin:16px 0 0;padding:0;text-align:center}.message li a{display:inline-block;padding:8px;text-transform:uppercase;text-decoration:none;font-weight:500;background:#e50303;color:white;border:1px solid #039be5;border-radius:3px;font-size:14px;box-shadow:0 2px 5px 0 rgba(0,0,0,0.26)}body{font-family:sans-serif}.dice{border:1px solid black;padding:5px;border-radius:2px;display:inline-block;margin:0 0 5px}.dice--pair{background-color:red}.dice--win{background-color:blue}.dice__die{display:inline-block;background:silver;margin:0 5px 5px 0;padding:5px;width:15px;font-weight:bold;border-radius:5px;text-align:center}.dice__die:last-child{margin-right:0}.roll{display:inline-block;margin:0 0 5px 0;padding:5px;text-decoration:none;font-weight:bold;color:black;background:salmon;border-radius:2px}</style> <script>// Register service worker // Define Master class class FIREBRAND { constructor() { this.swRegistered = false; this.swCache = false; } registerSW() { if ('serviceWorker' in navigator) { console.log('Registering service worker'); navigator.serviceWorker.register('/sw.js', { scope: '/' }).then(function (reg) { // registration worked console.log('Registration succeeded. Scope is ' + reg.scope); F.swRegistered = true; }).catch(function (error) { // registration failed console.log('Registration failed with ' + error); F.swRegistered = false; }); } } getSWRegStatus() {} getSWCacheStatus() {} } // Define Cee-lo class class CEELO { constructor() { this.rollResults = ""; this.matches = ""; this.potentialPoints = ""; this.dice = ""; this.setPoint = ""; this.roll = ""; this.allDice = ""; } createDice(amount = 3) { // Load placeholder dice into DOM for (let index = 0; index < amount; index++) { const dieDiv = document.createElement("div"); dieDiv.classList.add("dice__die"); dieDiv.classList.add("dice__die-" + (index + 1)); // dice_die-1, etc const placeholderContent = document.createTextNode("6"); dieDiv.appendChild(placeholderContent); CL.dice.appendChild(dieDiv); } } rollDice() { console.log("rolling dice"); // Roll each die and put the results into an array let rollResults = []; Array.prototype.forEach.call(CL.allDice, function (die) { const rollResult = Math.floor(Math.random() * 6 + 1); die.textContent = rollResult; // push each result to an array rollResults.push(rollResult); }); return rollResults; } findMatches() { // Sort results so matches will be adjacent let sortedRolls = CL.rollResults.slice().sort(); // Clone results into an array of potential set points CL.potentialPoints = sortedRolls.slice(); // Find matches by comparing each result let matches = []; for (let i = 0; i < CL.rollResults.length - 1; i++) { if (sortedRolls[i] == sortedRolls[i + 1]) { // count each match by pushing it to the matches array matches.push(sortedRolls[i]); // exclude the match from potential set points CL.potentialPoints.splice(i, 2); } } return matches; } determineResults() { // Results from checking for matches const rolledDoubles = CL.matches[0]; const rolledTriples = CL.matches[1]; if (rolledTriples) { //alert("You Win!") CL.dice.classList.add("dice--win"); } else if (rolledDoubles) { // the single will be the remaining potential point const single = CL.potentialPoints[0]; CL.dice.classList.add("dice--pair"); CL.dice.classList.remove("dice--win"); return single; } else { CL.dice.classList.remove(["dice--pair"], ["dice--win"]); const pointMax = Math.max.apply(null, CL.rollResults); return pointMax; } } } // End class CEELO /////////////////////////////////////////////////// // Instantiate classes let F = new FIREBRAND(); let CL = new CEELO(); // Once DOM has loaded document.addEventListener("DOMContentLoaded", function (event) { // SW Status /////////////////////////////////////////////// // Setup //F.registerSW(); F.registered = document.querySelector(".sw-status__registered"); F.registered.textContent = "Registered: " + F.swRegistered; F.cache = document.querySelector(".sw-status__cache"); F.cache.textContent = "Cache: " + F.swCache; //////////////////////////////////////////////////////////// // Cee-lo ////////////////////////////////////////////////// // Setup CL.setPoint = document.querySelector(".set-point"); CL.dice = document.querySelector(".dice"); CL.roll = document.querySelector(".roll"); CL.createDice(); CL.allDice = document.getElementsByClassName("dice__die"); // Roll dice when button is clicked CL.roll.addEventListener('click', function () { CL.rollResults = CL.rollDice(); CL.matches = CL.findMatches(); CL.setPoint.textContent = CL.determineResults(); }, false); // false disables default click behavior //////////////////////////////////////////////////////////// });</script> <link rel="manifest" href="/manifest.json"> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.5,minimum-scale=1"> <meta name="theme-color" content="#c90808"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="apple-mobile-web-app-title" content="Firebrand"> <meta name="apple-mobile-web-app-status-bar-style" content="black"> <link rel="apple-touch-icon-precomposed" sizes="192x192" href="images/icons/icon192.png"> </head> <body> <section class="sw-status message"> <h2>Service Worker Status</h2> <div class="sw-status__registered">Registered:</div> <div class="sw-status__cache">Cache:</div> </section> <section class="cee-lo message"> <h2>Cee-lo</h2> <div class="dice"></div> <br> <a class="roll" href="#">Roll</a> <div class="set-point">SP</div> </section> <section class="message"> <h2>Welcome to Firebase Hosting</h2> <p>You're seeing this because you've successfully setup Firebase Hosting. Now it's time to go build something extraordinary!</p> <ul> <li><a rel="noopener" target="_blank" href="https://firebase.google.com/docs/hosting/">Open Hosting Documentation</a></li> </ul> </section> </body> </html> 
