class SERVICEWORKER{constructor(){this.cacheVersion="v1"}install(){console.log("SW: 'install' event fired")}activate(){console.log("SW: 'activate' event fired")}fetch(a){console.log("SW: 'fetch' event fired"),a.respondWith(caches.match(a.request).then((b)=>{return b&&console.log("SW: Resource loaded from cache"),b||fetch(a.request).then((c)=>{return console.log("SW: Requested resource not yet cached, caching now"),caches.open(SW.cacheVersion).then((d)=>{return d.put(a.request,c.clone()),c})})}))}}let SW=new SERVICEWORKER;this.addEventListener("install",()=>SW.install()),this.addEventListener("activate",()=>SW.activate()),this.addEventListener("fetch",(a)=>SW.fetch(a));
