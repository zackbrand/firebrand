"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var CACHE=function(){function a(){_classCallCheck(this,a),this.cacheVersion="v1",this.cached=!1,this.installButton="",this.installClass="cache-status__install--true",this.installText="Cached",this.uninstallClass="cache-status__install--false",this.uninstallText="Uncached"}return _createClass(a,[{key:"check",value:function c(){var a=this,b=caches.match("/");b.then(function c(b){b?(a.installButton.classList.add(a.installClass),a.installButton.textContent=a.installText,a.cached=!0):(a.installButton.classList.add(a.uninstallClass),a.installButton.textContent=a.uninstallText,a.cached=!1)},function b(a){console.log("Cache promise error: "+a)})}},{key:"install",value:function c(){var a=["/"],b=caches.open(this.cacheVersion);b.then(function c(b){b.addAll(a).then(location.reload())},function b(a){return console.log("Cache open error: "+a)})}},{key:"delete",value:function b(){var a=caches.open(this.cacheVersion);a.then(function d(a){var b=a.keys(),c=function(b){return a.delete(b)};b.then(function b(a){return a.forEach(c)}),location.reload()})}},{key:"clean",value:function d(){var a=[cacheVersion],b=cache.keys(),c=function(b){if(-1===a.indexOf(b))return console.log("SW: Deleting old cache"),caches.delete(b)};b.then(function a(){return Promise.all(keyList.map(c))})}}]),a}();
"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var CEELO=function(){function a(){_classCallCheck(this,a),this.rollResults="",this.matches="",this.potentialPoints="",this.dice="",this.setPoint="",this.roll="",this.allDice=""}return _createClass(a,[{key:"createDice",value:function d(){for(var a,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3,c=0;c<b;c++){a=document.createElement("div"),a.classList.add("dice__die"),a.classList.add("dice__die-"+(c+1));var e=document.createTextNode("6");a.appendChild(e),this.dice.appendChild(a)}}},{key:"rollDice",value:function b(){console.log("rolling dice");var a=[];return Array.prototype.forEach.call(this.allDice,function(b){var c=Math.floor(6*Math.random()+1);b.textContent=c,a.push(c)}),a}},{key:"findMatches",value:function d(){var a=this.rollResults.slice().sort();this.potentialPoints=a.slice();for(var b=[],c=0;c<this.rollResults.length-1;c++)a[c]==a[c+1]&&(b.push(a[c]),this.potentialPoints.splice(c,2));return b}},{key:"determineResults",value:function d(){var a=this.matches[0],b=this.matches[1];if(b)this.dice.classList.add("dice--win");else{if(a){var e=this.potentialPoints[0];return this.dice.classList.add("dice--pair"),this.dice.classList.remove("dice--win"),e}this.dice.classList.remove(["dice--pair"],["dice--win"]);var c=Math.max.apply(null,this.rollResults);return c}}}]),a}();
'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var SW_HELPER=function(){function a(){_classCallCheck(this,a),this.path='/sw.js',this.scope='/',this.registered=!1,this.sw=navigator.serviceWorker,this.wrap='',this.registerButton=''}return _createClass(a,[{key:'checkRegistration',value:function c(){var a=this,b=this.sw.getRegistration();b.then(function c(b){b?(console.log('Service Worker registered'),a.registerButton.classList.add('sw-status__registered--true'),a.registerButton.textContent='Registered',a.registered=!0):(console.log('Service Worker not registered'),a.registerButton.classList.add('sw-status__registered--false'),a.registerButton.textContent='Unregistered',a.registered=!1)},function b(a){return console.log('Registration rejected: '+a)})}},{key:'checkControl',value:function a(){this.sw.controller&&this.wrap.classList.add('sw-controlled')}},{key:'register',value:function c(a){var b=this.sw.register(this.path,{scope:this.scope});b.then(function c(b){a&&b.unregister(),location.reload()},function b(a){return console.log('Registration rejected: '+a)})}},{key:'unregister',value:function a(){this.register('unregister')}}]),a}();
"use strict";var SWH=new SW_HELPER,Cache=new CACHE,Ceelo=new CEELO;document.addEventListener("DOMContentLoaded",function(){"serviceWorker"in navigator?(swButtonActions(),cacheButtonActions()):showSupportWarnings(),ceeLo()});function swButtonActions(){SWH.wrap=document.querySelector(".wrap"),SWH.registerButton=document.querySelector(".sw-status__register-button"),SWH.checkRegistration(),SWH.checkControl(),SWH.registerButton.addEventListener("click",function(){SWH.registered?SWH.unregister():SWH.register()})}function cacheButtonActions(){Cache.installButton=document.querySelector(".cache-status__install-button"),Cache.check();Cache.installButton.addEventListener("click",function a(){Cache.cached?Cache.delete():Cache.install()})}function showSupportWarnings(){var a=document.querySelector(".sw-warning"),b=document.querySelector(".sw-status"),c=document.querySelector(".cache-status");a.classList.add("sw-warning--triggered"),b.classList.add("sw-unsupported"),c.classList.add("cache-unsupported")}function ceeLo(){Ceelo.setPoint=document.querySelector(".set-point"),Ceelo.dice=document.querySelector(".dice"),Ceelo.roll=document.querySelector(".roll"),Ceelo.createDice(),Ceelo.allDice=document.getElementsByClassName("dice__die"),Ceelo.roll.addEventListener("click",function(){Ceelo.rollResults=Ceelo.rollDice(),Ceelo.matches=Ceelo.findMatches(),Ceelo.setPoint.textContent=Ceelo.determineResults()})}

//# sourceMappingURL=min.js.map